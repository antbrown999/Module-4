<!DOCTYPE html>
<html lang="en">
<template id="news-template">
    <div class="card col-4">
        <div class="card-body">
            <div class="card-title"><h5>News Title</h5></div>
            <p class="card-text">News Body</p>
        </div>
    </div>
</template>
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Data</title>
</head>
<body>
    <div class="container p-3">
       <h2>Latest News</h2>
       <div id="news-list" class="row g-3 p-3">
   </div>

   <div><button onclick="stopInterval()">Stop Reloading</button></div>
   
   <form onsubmit="createNewItem(event)">
        <label>New Item Title: <input name="title" id="newsTitle"></label><br>
        <label>News Item Content: <input name="content" id="newsContent"></input></label>
        <button>Add News Items</button>
   </form>

</div>

   <script>

    let news= [
        {
            id: 1, title: 'Election Results', 
            content: "Newly elected minister..."
        },
        {
            id: 2, title: 'Sporting Success',
            content: "World Cup winners..."
        },
        {
            id: 3, title: 'Tornado Warning',
            content: "residents should prepare..."
        }
    ];

    function getNews() {
        document.getElementById('news-list').innerText='';

        news.forEach(item => addNewItem(item))
    }

    function addNewsItem(news) {
        const template = document.getElementById("news-template").content.cloneNode(true)
        template.querySelector('.card-title').innerText = news.title;
        template.querySelector('.card-text').innerText = news.content;
        document.querySelector('#news-list').appendChild(template)
    };

    geNews()

    let newsTimer = setInterval(getNews, 5000)


    function createNewsItem(event) {
        event.preventDefault()
        let newsTitle = document.getElementById('newsTitle').value
        let newsContent = document.getElementById('newContent').value
        news.push({title: newsTitle, content: newsContent, id: news.length + 1})
}

        function stopInterval() {
            clearInterval(newsTimer)
        }
   </script>


    </div>
</body>
</html>